# ビデオチャットツール

## 要件の想定

---

  現在利用中のSkypeと同等のものではなくSkypeから同好会として必要な機能のみを用意しシンプルであることを考える.
  LINEの担っている役割も吸収したい.
  同時接続は最大30人位を想定する.

## 必須機能

---

- ログイン機能
- アカウント管理機能
- チャット機能
- ビデオ通話機能
- バーチャル背景設定機能

## 機能

---

### 管理機能

  ビデオチャットアプリと同居させアカウント権限を判定し表示・非表示を切り替える.

  #### アカウント権限一覧
    1. 管理者
    2. 開発者
    3. ユーザー

  - 告知機能
  告知情報を登録し情報として保持する.
  告知情報の登録にはHTMLエディターを使用できるようにする.
  告知情報はCMS機能としてURLを生成しWEBページとして公開可能とする.
  公開したWEBページは社外からの閲覧は不可とし、社内掲示板からのみアクセス可能とする.

  - 活動日カレンダー機能
  活動日と活動日時の予定を登録し情報として保持する.
  記録にはDBを使用
  スケジューラは活動日を検知してチャット等に通知を送信する.

  - ユーザーの集計機能
  記録された活動時間帯のログイン情報を集計してチャット等に集計結果を送信する.
  集計にはDBを使用
  例: 活動開始予定時刻の30分前から活動終了予定時刻5分前までを集計

  - サーバーリソース監視
  サーバーのCPU・メモリ使用状況を管理画面に表示
  目的としてはアプリの維持に必要なサーバーのリソースが分からないので監視して状態を確認する.
  記録にはDBとファイルを使い、管理画面上にはグラフ形式で表示する.
  5分間隔程度 / 書き込み回数 | 1h 12回 | 1d 288回
  1週間程度(2016回)でファイルに書き出してレコードはDELETEする.
  ファイルに書き出す形式(内容)は未定

### その他

  - DB・画像のバックアップ
  何かしらの形でバックアップを取っておきたい
  画像はアーカイブにするか

  - ウイルスチェック
  ファイルアップロード機能があるはずなので

### 画面構成

- 共通構成
  ログイン画面 -- エントランス画面 -- ビデオチャット画面

#### 画面一覧

  各画面はビデオ接続(videoタグ)の実装の都合上モードレスダイアログで実装しないと断線すると思われる.

  - 共通

    - ログイン画面
    - エントランス画面
    - ビデオチャット画面
    - 活動日カレンダー画面
    - 告知一覧画面

  - 開発者

    - サーバーリソース監視画面

  - 管理者

    - アカウント一覧画面
    - アカウント詳細画面
    - アカウント編集画面
    - 活動日カレンダー登録画面
    - 活動日カレンダー詳細画面
    - 活動日カレンダー編集画面
    - 告知登録画面
    - 告知詳細画面
    - 告知編集画面

### 備考
告知機能はCMS機能としたほうが柔軟か？
